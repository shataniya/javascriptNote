<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<script type="text/javascript">
			
			window.onload = function(){
				
				var newpassword = document.getElementById("newpassword");
				var surepassword = document.getElementById("surepassword");
				var newpasslabel = document.getElementById("newpasslabel");
				var passlabel = document.getElementById("passlabel");
				
				//点击新密码编辑框
				newpassword.onclick = function(){
					var pa = newpassword.value;
					//确认密码规则
					var passwordReg = /^\w{6,}$/ig;
					var reg = passwordReg.test(pa);
					if(pa){
						if(reg){
							newpasslabel.innerHTML = "(^w^)";
						}else{
							newpasslabel.innerHTML = "密码至少6位数";
						}
					}else{
						newpasslabel.innerHTML = "密码至少6位数";
					}
				};
				
				//鼠标离开新密码编辑框
				newpassword.onmouseout = function(){
					var pa = newpassword.value;
					//确认密码规则
					var passwordReg = /^\w{6,}$/ig;
					var reg = passwordReg.test(pa);
					if(pa){
						if(reg){
							newpasslabel.innerHTML = "(^w^)";
						}else{
							newpasslabel.innerHTML = "(=_=)";
						}
					}else{
						newpasslabel.innerHTML = "密码至少6位数";
					}
				};
				
				//点击再次输入密码编辑框
				surepassword.onclick = function(){
					var repa = surepassword.value;
					//确认密码规则
					var passwordReg = /^\w{6,}$/ig;
					var reg = passwordReg.test(repa);
					if(repa){
						if(reg){
							passlabel.innerHTML = "(^w^)";
						}else{
							passlabel.innerHTML = "";
							//alert("密码至少6位数");
						}
					}else{
						passlabel.innerHTML = "";
					}
				};
				
				//当鼠标离开确认密码编辑框
				surepassword.onmouseout = function(){
					var newpa = newpassword.value;
					var surepa = surepassword.value;
					if(newpa && surepa){
						if(newpa == surepa){
							passlabel.innerHTML = "(^w^)";
						}else{
							passlabel.innerHTML = "(=_=)";
						}
					}else{
						passlabel.innerHTML = "";
					}
				};
				
				
				//按下确认按钮
				var sure = document.getElementById("sure");
				sure.onclick = function(){
					
					var flag = false;
					var newpa = newpassword.value;
					var surepa = surepassword.value;
					if(newpa && surepa){
						if(newpa == surepa){
							localStorage.qqpassword = newpa;
							flag = true;
						}else{
							alert("密码输入不同~~~");
						}
					}else{
							alert("请输入密码~~~");
						}
					
					return(flag);
				};
				
				
				
				
			};
			
			
		</script>
	</head>
	<body>
		<div>
			<h2>设置新密码</h2>
			<table>
				<tr>
					<td>新密码:</td>
					<td>
						<input type="text" name="newpasswprd" id="newpassword" />
					</td>
					<td>
						<label id="newpasslabel"></label>
					</td>
				</tr>
				<tr>
					<td>再次确认密码:</td>
					<td>
						<input type="text" name="surepassword" id="surepassword" />
					</td>
					<td>
						<label id="passlabel"></label>
					</td>
				</tr>
				<tr>
					<td>
						<button>
							<a href="qqforget.html">返回</a>
						</button>
						<button id="sure">
							<a href="passwordchange.html">确认</a>
						</button>
					</td>
				</tr>
			</table>
		</div>
	</body>
</html>
